---
layout: post
title: "On G1 GC"
description: ""
category: 
tags: [jvm, interview]
---
* jdk9 default, separate heap into same size regions. Mostly mark-compact
* Collet Set(CSet): collecatable-region set. Survivors in the CSet will be moved to antoher region. < 1% of heap size
* Every region has a Remembmered Set(RS) to record. RS records Points-into,i.e., object references in other regions that use this region's objects. It is a (region address, set of card table index) hashtable
* similar steps as CMS: init tag, concurrent tag, final tag, filter and recycle. Note that in the last step it will pause the user thread, and will instead recycle region only based on how much gc pause user wants
* Each block can be one of Eden/Survivor/Old. Note that new gen will still do recycle/promotion when it is full.
* Old gen GC will copy survivors from one region copy to another copy
* NOT designed with high throughput in mind



